# 리스폰스 헤더 필드

리스폰스 헤더 필드는 서버 측으로부터 클라이언트 측으로 송신되는 리스폰스 메시지에 적용된 헤더로 리스폰스의 부가 정보나 서버의 정보 클라이언트에 부가 정보 요구 등을 나타냅니다.

## 1. Accept-Ranges

```http
Accept-Ranges: bytes
```

서버가 리소스의 일부분만 지정해서 취득할 수 있는 Range 리퀘스트를 접수할 수 있는지 여부를 전달합니다. 지정 가능한 필드 값은 2개이며 수신 가능한 경우에는 "bytes", 수신 불가능한 경우에는 'none'이라고 기록합니다. 

## 2. Age

```http
Age: 600
```

얼마나 오래 전에 오리진 서버에서 리스폰스가 생성되었는지를 전달합니다. 필드 값의 단위는 초입니다. 리스폰스한 서버가 캐시 서버라면, 캐시된 리스폰스가 다시 실증되었던 때부터 검증한 시간이 됩니다. 프록시가 리스폰스를 생성했다면 Age 헤더 필드는 필수입니다.

## 3. ETag

엔티티 태그라고 불리며 일시적으로 리소스를 특정하기 위한 문자열을 전달합니다. 서버는 리소스마다 ETag 값을 할당합니다.

또 리소스가 갱신되면 ETag 값도 갱신할 필요가 있습니다. ETag 값의 문자에는 특별한 룰이 정해져 있지 않고 서버에 따라 다양한 ETag값을 할당합니다.

### 1) 강한 ETag값

강한 ETag 값은 엔티티가 아주 조금 다르더라도 반드시 값은 변화합니다.

```http
ETag: "Usagi-1234"
```

### 2) 약한 ETag값

약한 ETag 값은 리소스가 같다는 것만을 나타냅니다. 의미가 다른 리소스로 그 차이가 있는 경우에만 ETag 값이 변화합니다. 또한 값의 앞부분에 "W/"가 붙습니다.

```http
ETag: W/"usage-1234"
```

## 4. Location

```http
Locatoin: http://~.~
```

리스폰스의 수신자에 대해서 Request-URI 이외의 리소스 액세스를 유도하는 경우에 사용됩니다.

기본적으로 "3xx: Redirection" 리스폰스에 대해서 리다이렉트 처의 URI를 기술합니다. 대부분의 브라우저에서는 Location 헤더 필드를 포함한 리스폰스를 받으면 강제로 리다이렉트 하는 곳의 리소스에 액세스를 시도합니다.

## 5. Proxy-Authenticate

```http
Proxy-Authenticate: Basic realm="Usagidesign Auth"
```

Proxy-Authenticate 헤더 필드는 프록시 서버에서의 인증 요구를 클라이언트에 전달합니다. 클라이언트와 서버와의 HTTP 액세스 인증과 비슷한데 다른 점은 클라이언트와 프록시 사이에서 인증이 이루어진다는 점입니다. 클라이언트와 서버의 경우, WWW-Authorization 헤더 필드와 같은 역할을 합니다.

## 6. Retry-After

```http
Retry-After:120
```

클라이언트가 일정 시간 후에 리퀘스트를 다시 시행해야 하는 지를 전달합니다. 주로 상태 코드 503 Service Unavailable 리스폰스나 3xx Redirect 리스폰스와 함께 사용됩니다.

값으로는 날짜나 리스폰스 이후의 초를 지정할 수 있습니다.

## 7. Server

```http
Server: Apache/2.2.17(Unix)
```

서버에 설치되어 있는 HTTP 서버의 소프트웨어를 전달합니다. 서버의 소프트웨어 명칭 뿐만 아니라 버전이나 옵션에 대해서도 기재하는 경우가 있습니다.

## 8. Vary

```http
Vary: Accept-Language
```

캐시를 컨트롤하기 위해서 사용합니다. 오리진 서버가 프록시 서버에 로컬 캐시를 사용하는 방법에 대한 지시를 전달합니다. 

오리진 서버로부터 Vary에 지정되었던 리스폰스를 받아들인 프록시 서버는 이후 캐시된 때의 리퀘스트와 같은 Vary에 지정되어 있는 헤더 필드를 가진 리퀘스트에 대해서만 캐시를 반환할 수 있습니다.  같은 리소스에 대한 리퀘스트라도 Vary에 지정되었던 헤더 필드가 다른 경우에는 오리진 서버로부터 리소스를 취득할 필요가 있습니다.

## 9. WWW-Authenticate

```http
WWW-Authenticate: Basic realm="Usagidesign Auth"
```

HTTP 액세스 인증에 사용되는데 Request-URI에 지정했던 리소스에 적용할 수 있는 인증 스키마(Basic or Digest)와 파라미터를 나타내는 challenge를 전달합니다.

WWW-Authenticate 헤더 필드는 상태 코드 401 Unauthorized 리스폰스에 반드시 포함됩니다. 이 예에서 "realm"는 Request-URI에 지정된 보호되었던 리소스를 식별하기 위한 문자열입니다. 

